# Covisint CTrust Agent Config Generator

### _ This code base is a stop gap solution for long term solution to be put in place using Cloud Foundry Build packs. This code base is not targetted for longtime maintainence._

## Description
Generates CTrust Agent Configuration dynamically by calling a Covisint Microservice that returns latest configurations in JSON Format. The program needs to be run in a batch mode and can be scheduled on individual servers to run periodically.

## Command Line Parameters
1. **WEB_AGENT_CONF_LOCATION**

   Directory Location. Location where the ctrust web agent conf files will be generated by the program. This is a directory location on the server machine. This is the main output of the program.
   The generated conf file will have a unique name but will be generated in the location provided.

2. **CONFIGURATION_SERVICE _URL**

   The director micro-service URL which returns the latest web agent configurations in JSON format.
 
3. **DEFAULT_REALM** 

   The default IDM realm in the environment. Generally CEXP
   
4. **CTRUST_SERVER**

   The CTRUST server URL. You dont have to mention the protocol.
   
5. **SERVER_TYPE**

   This tell what type of server this is. The different possible values are below.
   - PROVISIONER
   - AUTHENTICATOR
   - IDENTITY_BROKER
   - PORTAL
   - API_MANAGER
   - RUNTIME
   - FST
   - SCMANAGER
   
6. **ENABLE_CTRUST_AGENT**

   True for everything except  for AUTHENTICATOR (login | sso)
   
7. **RESULTS_FILE**

   Give the File location where the result of this run has to be printed out. This is a file location not a directory location. 
	On successful run of the program this file will have 1 line which will be the absolute path of the newly generated web agent conf file (it will be within the directory provided by *WEB_AGENT_CONF_LOCATION*). 
	If on this run of the program the web agent configuration have not changed then the results file will be empty.
	
8. **CACHE_FILE_LOCATION**

   This is the location where the program will keep the serialized version Web Agent Configurations. 
   This is used to check if web agent configuration have changed. If something goes wrong this cache file should be deleted so that the web agent conf file is generated anew.

9. **logback.configurationFile** 
   The logback config file. 